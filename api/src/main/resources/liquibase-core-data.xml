<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd
    http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">
	
    <changeSet author="ben" id="disable-foreign-key-checks" runAlways="true" dbms="mysql">
	<sql>SET FOREIGN_KEY_CHECKS=0</sql>
    </changeSet>
    
    <changeSet author="sunbiz" id="function-disable-postgresql" runAlways="true" dbms="postgresql">
        <customChange class="org.openmrs.util.databasechange.DisableTriggersChangeSet">
        </customChange>
    </changeSet>
    
    <changeSet author="sunbiz" id="function-disable-sqlserver" runAlways="true" dbms="mssql">
        <sql>
            EXEC sp_msforeachtable "ALTER TABLE ? NOCHECK CONSTRAINT all";
        </sql>
    </changeSet>
    
    <changeSet author="ben (generated)" id="1226348923233-2">
        <insert tableName="field_type">
            <column name="field_type_id" valueNumeric="1"/>
            <column name="name" value="Concept"/>
            <column name="description" value=""/>
            <column name="is_set" valueBoolean="false"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2005-02-22"/>
        </insert>
        <insert tableName="field_type">
            <column name="field_type_id" valueNumeric="2"/>
            <column name="name" value="Database element"/>
            <column name="description" value=""/>
            <column name="is_set" valueBoolean="false"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2005-02-22"/>
        </insert>
        <insert tableName="field_type">
            <column name="field_type_id" valueNumeric="3"/>
            <column name="name" value="Set of Concepts"/>
            <column name="description" value=""/>
            <column name="is_set" valueBoolean="true"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2005-02-22"/>
        </insert>
        <insert tableName="field_type">
            <column name="field_type_id" valueNumeric="4"/>
            <column name="name" value="Miscellaneous Set"/>
            <column name="description" value=""/>
            <column name="is_set" valueBoolean="true"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2005-02-22"/>
        </insert>
        <insert tableName="field_type">
            <column name="field_type_id" valueNumeric="5"/>
            <column name="name" value="Section"/>
            <column name="description" value=""/>
            <column name="is_set" valueBoolean="true"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2005-02-22"/>
        </insert>
    </changeSet>
    <changeSet author="ben (generated)" id="1226348923233-6">
        <insert tableName="role_privilege">
            <column name="role" value="Authenticated"/>
            <column name="privilege" value="View Concept Classes"/>
        </insert>
        <insert tableName="role_privilege">
            <column name="role" value="Authenticated"/>
            <column name="privilege" value="View Concept Datatypes"/>
        </insert>
        <insert tableName="role_privilege">
            <column name="role" value="Authenticated"/>
            <column name="privilege" value="View Encounter Types"/>
        </insert>
        <insert tableName="role_privilege">
            <column name="role" value="Authenticated"/>
            <column name="privilege" value="View Field Types"/>
        </insert>
        <insert tableName="role_privilege">
            <column name="role" value="Authenticated"/>
            <column name="privilege" value="View Global Properties"/>
        </insert>
        <insert tableName="role_privilege">
            <column name="role" value="Authenticated"/>
            <column name="privilege" value="View Identifier Types"/>
        </insert>
        <insert tableName="role_privilege">
            <column name="role" value="Authenticated"/>
            <column name="privilege" value="View Locations"/>
        </insert>
        <insert tableName="role_privilege">
            <column name="role" value="Authenticated"/>
            <column name="privilege" value="View Order Types"/>
        </insert>
        <insert tableName="role_privilege">
            <column name="role" value="Authenticated"/>
            <column name="privilege" value="View Person Attribute Types"/>
        </insert>
        <insert tableName="role_privilege">
            <column name="role" value="Authenticated"/>
            <column name="privilege" value="View Privileges"/>
        </insert>
        <insert tableName="role_privilege">
            <column name="role" value="Authenticated"/>
            <column name="privilege" value="View Relationship Types"/>
        </insert>
        <insert tableName="role_privilege">
            <column name="role" value="Authenticated"/>
            <column name="privilege" value="View Relationships"/>
        </insert>
        <insert tableName="role_privilege">
            <column name="role" value="Authenticated"/>
            <column name="privilege" value="View Roles"/>
        </insert>
    </changeSet>
    <changeSet author="ben (generated)" id="1226348923233-8">
        <insert tableName="person_attribute_type">
            <column name="person_attribute_type_id" valueNumeric="1"/>
            <column name="name" value="Race"/>
            <column name="description" value="Group of persons related by common descent or heredity"/>
            <column name="format" value="java.lang.String"/>
            <column name="foreign_key" valueNumeric="0"/>
            <column name="searchable" valueBoolean="false"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2007-05-04"/>
            <column name="changed_by"/>
            <column name="date_changed"/>
            <column name="retired" valueBoolean="false"/>
            <column name="retired_by"/>
            <column name="date_retired"/>
            <column name="retire_reason"/>
        </insert>
        <insert tableName="person_attribute_type">
            <column name="person_attribute_type_id" valueNumeric="2"/>
            <column name="name" value="Birthplace"/>
            <column name="description" value="Location of persons birth"/>
            <column name="format" value="java.lang.String"/>
            <column name="foreign_key" valueNumeric="0"/>
            <column name="searchable" valueBoolean="false"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2007-05-04"/>
            <column name="changed_by" />
            <column name="date_changed"/>
            <column name="retired" valueBoolean="false"/>
            <column name="retired_by"/>
            <column name="date_retired"/>
            <column name="retire_reason"/>
        </insert>
        <insert tableName="person_attribute_type">
            <column name="person_attribute_type_id" valueNumeric="3"/>
            <column name="name" value="Citizenship"/>
            <column name="description" value="Country of which this person is a member"/>
            <column name="format" value="java.lang.String"/>
            <column name="foreign_key" valueNumeric="0"/>
            <column name="searchable" valueBoolean="false"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2007-05-04"/>
            <column name="changed_by" />
            <column name="date_changed"/>
            <column name="retired" valueBoolean="false"/>
            <column name="retired_by" />
            <column name="date_retired"/>
            <column name="retire_reason"/>
        </insert>
        <insert tableName="person_attribute_type">
            <column name="person_attribute_type_id" valueNumeric="4"/>
            <column name="name" value="Mother's Name"/>
            <column name="description" value="First or last name of this person's mother"/>
            <column name="format" value="java.lang.String"/>
            <column name="foreign_key" valueNumeric="0"/>
            <column name="searchable" valueBoolean="false"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2007-05-04"/>
            <column name="changed_by" />
            <column name="date_changed"/>
            <column name="retired" valueBoolean="false"/>
            <column name="retired_by" />
            <column name="date_retired"/>
            <column name="retire_reason"/>
        </insert>
        <insert tableName="person_attribute_type">
            <column name="person_attribute_type_id" valueNumeric="5"/>
            <column name="name" value="Civil Status"/>
            <column name="description" value="Marriage status of this person"/>
            <column name="format" value="org.openmrs.Concept"/>
            <column name="foreign_key" valueNumeric="1054"/>
            <column name="searchable" valueBoolean="false"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2007-05-04"/>
            <column name="changed_by" />
            <column name="date_changed"/>
            <column name="retired" valueBoolean="false"/>
            <column name="retired_by" />
            <column name="date_retired"/>
            <column name="retire_reason"/>
        </insert>
        <insert tableName="person_attribute_type">
            <column name="person_attribute_type_id" valueNumeric="6"/>
            <column name="name" value="Health District"/>
            <column name="description" value="District/region in which this patient' home health center resides"/>
            <column name="format" value="java.lang.String"/>
            <column name="foreign_key" valueNumeric="0"/>
            <column name="searchable" valueBoolean="false"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2007-05-04"/>
            <column name="changed_by" />
            <column name="date_changed"/>
            <column name="retired" valueBoolean="false"/>
            <column name="retired_by" />
            <column name="date_retired"/>
            <column name="retire_reason"/>
        </insert>
        <insert tableName="person_attribute_type">
            <column name="person_attribute_type_id" valueNumeric="7"/>
            <column name="name" value="Health Center"/>
            <column name="description" value="Specific Location of this person's home health center."/>
            <column name="format" value="org.openmrs.Location"/>
            <column name="foreign_key" valueNumeric="0"/>
            <column name="searchable" valueBoolean="false"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2007-05-04"/>
            <column name="changed_by" />
            <column name="date_changed"/>
            <column name="retired" valueBoolean="false"/>
            <column name="retired_by" />
            <column name="date_retired"/>
            <column name="retire_reason"/>
        </insert>
    </changeSet>
    <changeSet author="ben (generated)" id="1226348923233-12">
        <insert tableName="concept_datatype">
            <column name="concept_datatype_id" valueNumeric="1"/>
            <column name="name" value="Numeric"/>
            <column name="hl7_abbreviation" value="NM"/>
            <column name="description" value="Numeric value, including integer or float (e.g., creatinine, weight)"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2004-02-02"/>
            <column name="retired" valueBoolean="false"/>
            <column name="retired_by"/>
            <column name="date_retired"/>
            <column name="retire_reason"/>
        </insert>
        <insert tableName="concept_datatype">
            <column name="concept_datatype_id" valueNumeric="2"/>
            <column name="name" value="Coded"/>
            <column name="hl7_abbreviation" value="CWE"/>
            <column name="description" value="Value determined by term dictionary lookup (i.e., term identifier)"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2004-02-02"/>
            <column name="retired" valueBoolean="false"/>
            <column name="retired_by"/>
            <column name="date_retired"/>
            <column name="retire_reason"/>
        </insert>
        <insert tableName="concept_datatype">
            <column name="concept_datatype_id" valueNumeric="3"/>
            <column name="name" value="Text"/>
            <column name="hl7_abbreviation" value="ST"/>
            <column name="description" value="Free text"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2004-02-02"/>
            <column name="retired" valueBoolean="false"/>
            <column name="retired_by"/>
            <column name="date_retired"/>
            <column name="retire_reason"/>
        </insert>
        <insert tableName="concept_datatype">
            <column name="concept_datatype_id" valueNumeric="4"/>
            <column name="name" value="N/A"/>
            <column name="hl7_abbreviation" value="ZZ"/>
            <column name="description" value="Not associated with a datatype (e.g., term answers, sets)"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2004-02-02"/>
            <column name="retired" valueBoolean="false"/>
            <column name="retired_by"/>
            <column name="date_retired"/>
            <column name="retire_reason"/>
        </insert>
        <insert tableName="concept_datatype">
            <column name="concept_datatype_id" valueNumeric="5"/>
            <column name="name" value="Document"/>
            <column name="hl7_abbreviation" value="RP"/>
            <column name="description" value="Pointer to a binary or text-based document (e.g., clinical document, RTF, XML, EKG, image, etc.) stored in complex_obs table"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2004-04-15"/>
            <column name="retired" valueBoolean="false"/>
            <column name="retired_by"/>
            <column name="date_retired"/>
            <column name="retire_reason"/>
        </insert>
        <insert tableName="concept_datatype">
            <column name="concept_datatype_id" valueNumeric="6"/>
            <column name="name" value="Date"/>
            <column name="hl7_abbreviation" value="DT"/>
            <column name="description" value="Absolute date"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2004-07-22"/>
            <column name="retired" valueBoolean="false"/>
            <column name="retired_by"/>
            <column name="date_retired"/>
            <column name="retire_reason"/>
        </insert>
        <insert tableName="concept_datatype">
            <column name="concept_datatype_id" valueNumeric="7"/>
            <column name="name" value="Time"/>
            <column name="hl7_abbreviation" value="TM"/>
            <column name="description" value="Absolute time of day"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2004-07-22"/>
            <column name="retired" valueBoolean="false"/>
            <column name="retired_by"/>
            <column name="date_retired"/>
            <column name="retire_reason"/>
        </insert>
        <insert tableName="concept_datatype">
            <column name="concept_datatype_id" valueNumeric="8"/>
            <column name="name" value="Datetime"/>
            <column name="hl7_abbreviation" value="TS"/>
            <column name="description" value="Absolute date and time"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2004-07-22"/>
            <column name="retired" valueBoolean="false"/>
            <column name="retired_by"/>
            <column name="date_retired"/>
            <column name="retire_reason"/>
        </insert>
        <insert tableName="concept_datatype">
            <column name="concept_datatype_id" valueNumeric="10"/>
            <column name="name" value="Boolean"/>
            <column name="hl7_abbreviation" value="BIT"/>
            <column name="description" value="Boolean value (yes/no, true/false)"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2004-08-26"/>
            <column name="retired" valueBoolean="false"/>
            <column name="retired_by"/>
            <column name="date_retired"/>
            <column name="retire_reason"/>
        </insert>
        <insert tableName="concept_datatype">
            <column name="concept_datatype_id" valueNumeric="11"/>
            <column name="name" value="Rule"/>
            <column name="hl7_abbreviation" value="ZZ"/>
            <column name="description" value="Value derived from other data"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2006-09-11"/>
            <column name="retired" valueBoolean="false"/>
            <column name="retired_by"/>
            <column name="date_retired"/>
            <column name="retire_reason"/>
        </insert>
        <insert tableName="concept_datatype">
            <column name="concept_datatype_id" valueNumeric="12"/>
            <column name="name" value="Structured Numeric"/>
            <column name="hl7_abbreviation" value="SN"/>
            <column name="description" value="Complex numeric values possible (ie, &lt;5, 1-10, etc.)"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2005-08-06"/>
            <column name="retired" valueBoolean="false"/>
            <column name="retired_by"/>
            <column name="date_retired"/>
            <column name="retire_reason"/>
        </insert>
        <insert tableName="concept_datatype">
            <column name="concept_datatype_id" value="13"/>
            <column name="name" value="Complex"/>
            <column name="hl7_abbreviation" value="ED"/>
            <column name="description" value="Complex value.  Analogous to HL7 Embedded Datatype"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2008-05-28T12:25:34" />
        </insert>
    </changeSet>
    <changeSet author="ben (generated)" id="1226348923233-13">
        <insert tableName="role">
            <column name="role" value="System Developer"/>
            <column name="description" value="Developers of the OpenMRS .. have additional access to change fundamental structure of the database model."/>
        </insert>
	<insert tableName="role">
            <column name="role" value="Provider"/>
            <column name="description" value="All users with the 'Provider' role will appear as options in the default Infopath "/>
        </insert>
    </changeSet>
    <changeSet author="ben (generated)" id="1226412230538-24">
        <insert tableName="role">
            <column name="role" value="Anonymous"/>
            <column name="description" value="Privileges for non-authenticated users."/>
        </insert>
        <insert tableName="role">
            <column name="role" value="Authenticated"/>
            <column name="description" value="Privileges gained once authentication has been established."/>
        </insert>
    </changeSet>
    <changeSet author="ben (generated)" id="1226412230538-7">
        <insert tableName="privilege">
            <column name="privilege" value="Add Cohorts"/>
            <column name="description" value="Able to add a cohort to the system"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Add Concept Proposals"/>
            <column name="description" value="Able to add concept proposals to the system"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Add Encounters"/>
            <column name="description" value="Able to add patient encounters"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Add Observations"/>
            <column name="description" value="Able to add patient observations"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Add Orders"/>
            <column name="description" value="Able to add orders"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Add Patient Identifiers"/>
            <column name="description" value="Able to add patient identifiers"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Add Patient Programs"/>
            <column name="description" value="Able to add patients to programs"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Add Patients"/>
            <column name="description" value="Able to add patients"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Add People"/>
            <column name="description" value="Able to add person objects"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Add Relationships"/>
            <column name="description" value="Able to add relationships"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Add Report Objects"/>
            <column name="description" value="Able to add report objects"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Add Reports"/>
            <column name="description" value="Able to add reports"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Add Users"/>
            <column name="description" value="Able to add users to OpenMRS"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Delete Cohorts"/>
            <column name="description" value="Able to add a cohort to the system"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Delete Concept Proposals"/>
            <column name="description" value="Able to delete concept proposals from the system"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Delete Encounters"/>
            <column name="description" value="Able to delete patient encounters"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Delete Observations"/>
            <column name="description" value="Able to delete patient observations"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Delete Orders"/>
            <column name="description" value="Able to delete orders"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Delete Patient Identifiers"/>
            <column name="description" value="Able to delete patient identifiers"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Delete Patient Programs"/>
            <column name="description" value="Able to delete patients from programs"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Delete Patients"/>
            <column name="description" value="Able to delete patients"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Delete People"/>
            <column name="description" value="Able to delete objects"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Delete Relationships"/>
            <column name="description" value="Able to delete relationships"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Delete Report Objects"/>
            <column name="description" value="Able to delete report objects"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Delete Reports"/>
            <column name="description" value="Able to delete reports"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Delete Users"/>
            <column name="description" value="Able to delete users in OpenMRS"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Edit Cohorts"/>
            <column name="description" value="Able to add a cohort to the system"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Edit Concept Proposals"/>
            <column name="description" value="Able to edit concept proposals in the system"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Edit Encounters"/>
            <column name="description" value="Able to edit patient encounters"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Edit Observations"/>
            <column name="description" value="Able to edit patient observations"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Edit Orders"/>
            <column name="description" value="Able to edit orders"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Edit Patient Identifiers"/>
            <column name="description" value="Able to edit patient identifiers"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Edit Patient Programs"/>
            <column name="description" value="Able to edit patients in programs"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Edit Patients"/>
            <column name="description" value="Able to edit patients"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Edit People"/>
            <column name="description" value="Able to edit person objects"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Edit Relationships"/>
            <column name="description" value="Able to edit relationships"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Edit Report Objects"/>
            <column name="description" value="Able to edit report objects"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Edit Reports"/>
            <column name="description" value="Able to edit reports"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Edit User Passwords"/>
            <column name="description" value="Able to change the passwords of users in OpenMRS"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Edit Users"/>
            <column name="description" value="Able to edit users in OpenMRS"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Form Entry"/>
            <column name="description" value="Allows user to access Form Entry pages/functions"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Manage Alerts"/>
            <column name="description" value="Able to add/edit/delete user alerts"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Manage Concept Classes"/>
            <column name="description" value="Able to add/edit/retire concept classes"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Manage Concept Datatypes"/>
            <column name="description" value="Able to add/edit/retire concept datatypes"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Manage Concept Sources"/>
            <column name="description" value="Able to add/edit/delete concept sources"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Manage Concepts"/>
            <column name="description" value="Able to add/edit/delete concept entries"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Manage Encounter Types"/>
            <column name="description" value="Able to add/edit/delete encounter types"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Manage Field Types"/>
            <column name="description" value="Able to add/edit/retire field types"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Manage FormEntry XSN"/>
            <column name="description" value="Allows user to upload and edit the xsns stored on the server"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Manage Forms"/>
            <column name="description" value="Able to add/edit/delete forms"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Manage Global Properties"/>
            <column name="description" value="Able to add/edit global properties"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Manage Identifier Types"/>
            <column name="description" value="Able to add/edit/delete patient identifier types"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Manage Locations"/>
            <column name="description" value="Able to add/edit/delete locations"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Manage Modules"/>
            <column name="description" value="Able to add/remove modules to the system"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Manage Order Types"/>
            <column name="description" value="Able to add/edit/retire order types"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Manage Person Attribute Types"/>
            <column name="description" value="Able to add/edit/delete person attribute types"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Manage Privileges"/>
            <column name="description" value="Able to add/edit/delete privileges"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Manage Programs"/>
            <column name="description" value="Able to add/view/delete patient programs"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Manage Relationship Types"/>
            <column name="description" value="Able to add/edit/retire relationship types"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Manage Relationships"/>
            <column name="description" value="Able to add/edit/delete relationships"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Manage Roles"/>
            <column name="description" value="Able to add/edit/delete user roles"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Manage Scheduler"/>
            <column name="description" value="Able to add/edit/remove scheduled tasks"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Patient Dashboard - View Demographics Section"/>
            <column name="description" value="Able to view the 'Demographics' tab on the patient dashboard"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Patient Dashboard - View Encounters Section"/>
            <column name="description" value="Able to view the 'Encounters' tab on the patient dashboard"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Patient Dashboard - View Forms Section"/>
            <column name="description" value="Allows user to view the Forms tab on the patient dashboard"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Patient Dashboard - View Graphs Section"/>
            <column name="description" value="Able to view the 'Graphs' tab on the patient dashboard"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Patient Dashboard - View Overview Section"/>
            <column name="description" value="Able to view the 'Overview' tab on the patient dashboard"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Patient Dashboard - View Patient Summary"/>
            <column name="description" value="Able to view the 'Summary' tab on the patient dashboard"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Patient Dashboard - View Regimen Section"/>
            <column name="description" value="Able to view the 'Regimen' tab on the patient dashboard"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Purge Field Types"/>
            <column name="description" value="Able to purge field types"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="Upload XSN"/>
            <column name="description" value="Allows user to upload/overwrite the XSNs defined for forms"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="View Administration Functions"/>
            <column name="description" value="Able to view the 'Administration' link in the navigation bar"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="View Concept Classes"/>
            <column name="description" value="Able to view concept classes"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="View Concept Datatypes"/>
            <column name="description" value="Able to view concept datatypes"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="View Concept Proposals"/>
            <column name="description" value="Able to view concept proposals to the system"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="View Concept Sources"/>
            <column name="description" value="Able to view concept sources"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="View Concepts"/>
            <column name="description" value="Able to view concept entries"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="View Data Entry Statistics"/>
            <column name="description" value="Able to view data entry statistics from the admin screen"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="View Encounter Types"/>
            <column name="description" value="Able to view encounter types"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="View Encounters"/>
            <column name="description" value="Able to view patient encounters"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="View Field Types"/>
            <column name="description" value="Able to view field types"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="View Forms"/>
            <column name="description" value="Able to view forms"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="View Global Properties"/>
            <column name="description" value="Able to view global properties on the administration screen"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="View Identifier Types"/>
            <column name="description" value="Able to view patient identifier types"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="View Locations"/>
            <column name="description" value="Able to view locations"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="View Navigation Menu"/>
            <column name="description" value="Ability to see the navigation menu"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="View Observations"/>
            <column name="description" value="Able to view patient observations"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="View Order Types"/>
            <column name="description" value="Able to view order types"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="View Orders"/>
            <column name="description" value="Able to view orders"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="View Patient Cohorts"/>
            <column name="description" value="Able to view patient cohorts"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="View Patient Identifiers"/>
            <column name="description" value="Able to view patient identifiers"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="View Patient Programs"/>
            <column name="description" value="Able to see which programs that patients are in"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="View Patients"/>
            <column name="description" value="Able to view patients"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="View People"/>
            <column name="description" value="Able to view person objects"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="View Person Attribute Types"/>
            <column name="description" value="Able to view person attribute types"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="View Privileges"/>
            <column name="description" value="Able to view user privileges"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="View Programs"/>
            <column name="description" value="Able to view patient programs"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="View Relationship Types"/>
            <column name="description" value="Able to view relationship types"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="View Relationships"/>
            <column name="description" value="Able to view relationships"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="View Report Objects"/>
            <column name="description" value="Able to view report objects"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="View Reports"/>
            <column name="description" value="Able to view reports"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="View Roles"/>
            <column name="description" value="Able to view user roles"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="View Unpublished Forms"/>
            <column name="description" value="Able to view and fill out unpublished forms"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="View Users"/>
            <column name="description" value="Able to view users in OpenMRS"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="View Problems"/>
            <column name="description" value="Able to view problems in OpenMRS"/>
        </insert>
        <insert tableName="privilege">
            <column name="privilege" value="View Allergies"/>
            <column name="description" value="Able to view allergies in OpenMRS"/>
        </insert>
    </changeSet>
    <changeSet author="ben (generated)" id="1226348923233-14">
        <insert tableName="relationship_type">
            <column name="relationship_type_id" valueNumeric="1"/>
            <column name="a_is_to_b" value="Doctor"/>
            <column name="b_is_to_a" value="Patient"/>
            <column name="preferred" valueBoolean="false"/>
            <column name="weight" valueNumeric="0"/>
            <column name="description" value="Relationship from a primary care provider to the patient"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2007-05-04"/>
        </insert>
        <insert tableName="relationship_type">
            <column name="relationship_type_id" valueNumeric="2"/>
            <column name="a_is_to_b" value="Sibling"/>
            <column name="b_is_to_a" value="Sibling"/>
            <column name="preferred" valueBoolean="false"/>
            <column name="weight" valueNumeric="0"/>
            <column name="description" value="Relationship between brother/sister, brother/brother, and sister/sister"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2007-05-04"/>
        </insert>
        <insert tableName="relationship_type">
            <column name="relationship_type_id" valueNumeric="3"/>
            <column name="a_is_to_b" value="Parent"/>
            <column name="b_is_to_a" value="Child"/>
            <column name="preferred" valueBoolean="false"/>
            <column name="weight" valueNumeric="0"/>
            <column name="description" value="Relationship from a mother/father to the child"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2007-05-04"/>
        </insert>
        <insert tableName="relationship_type">
            <column name="relationship_type_id" valueNumeric="4"/>
            <column name="a_is_to_b" value="Aunt/Uncle"/>
            <column name="b_is_to_a" value="Niece/Nephew"/>
            <column name="preferred" valueBoolean="false"/>
            <column name="weight" valueNumeric="0"/>
            <column name="description" value=""/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2007-05-04"/>
        </insert>
    </changeSet>
    <changeSet author="ben (generated)" id="1226348923233-15">
        <insert tableName="concept_class">
            <column name="concept_class_id" valueNumeric="1"/>
            <column name="name" value="Test"/>
            <column name="description" value="Acq. during patient encounter (vitals, labs, etc.)"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2004-02-02"/>
            <column name="retired" valueBoolean="false"/>
            <column name="retired_by"/>
            <column name="date_retired"/>
            <column name="retire_reason"/>
        </insert>
        <insert tableName="concept_class">
            <column name="concept_class_id" valueNumeric="2"/>
            <column name="name" value="Procedure"/>
            <column name="description" value="Describes a clinical procedure"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2004-03-02"/>
            <column name="retired" valueBoolean="false"/>
            <column name="retired_by"/>
            <column name="date_retired"/>
            <column name="retire_reason"/>
        </insert>
        <insert tableName="concept_class">
            <column name="concept_class_id" valueNumeric="3"/>
            <column name="name" value="Drug"/>
            <column name="description" value="Drug"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2004-02-02"/>
            <column name="retired" valueBoolean="false"/>
            <column name="retired_by"/>
            <column name="date_retired"/>
            <column name="retire_reason"/>
        </insert>
        <insert tableName="concept_class">
            <column name="concept_class_id" valueNumeric="4"/>
            <column name="name" value="Diagnosis"/>
            <column name="description" value="Conclusion drawn through findings"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2004-02-02"/>
            <column name="retired" valueBoolean="false"/>
            <column name="retired_by"/>
            <column name="date_retired"/>
            <column name="retire_reason"/>
        </insert>
        <insert tableName="concept_class">
            <column name="concept_class_id" valueNumeric="5"/>
            <column name="name" value="Finding"/>
            <column name="description" value="Practitioner observation/finding"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2004-03-02"/>
            <column name="retired" valueBoolean="false"/>
            <column name="retired_by"/>
            <column name="date_retired"/>
            <column name="retire_reason"/>
        </insert>
        <insert tableName="concept_class">
            <column name="concept_class_id" valueNumeric="6"/>
            <column name="name" value="Anatomy"/>
            <column name="description" value="Anatomic sites / descriptors"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2004-03-02"/>
            <column name="retired" valueBoolean="false"/>
            <column name="retired_by"/>
            <column name="date_retired"/>
            <column name="retire_reason"/>
        </insert>
        <insert tableName="concept_class">
            <column name="concept_class_id" valueNumeric="7"/>
            <column name="name" value="Question"/>
            <column name="description" value="Question (eg, patient history, SF36 items)"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2004-03-02"/>
            <column name="retired" valueBoolean="false"/>
            <column name="retired_by"/>
            <column name="date_retired"/>
            <column name="retire_reason"/>
        </insert>
        <insert tableName="concept_class">
            <column name="concept_class_id" valueNumeric="8"/>
            <column name="name" value="LabSet"/>
            <column name="description" value="Term to describe laboratory sets"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2004-03-02"/>
            <column name="retired" valueBoolean="false"/>
            <column name="retired_by"/>
            <column name="date_retired"/>
            <column name="retire_reason"/>
        </insert>
        <insert tableName="concept_class">
            <column name="concept_class_id" valueNumeric="9"/>
            <column name="name" value="MedSet"/>
            <column name="description" value="Term to describe medication sets"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2004-02-02"/>
            <column name="retired" valueBoolean="false"/>
            <column name="retired_by"/>
            <column name="date_retired"/>
            <column name="retire_reason"/>
        </insert>
        <insert tableName="concept_class">
            <column name="concept_class_id" valueNumeric="10"/>
            <column name="name" value="ConvSet"/>
            <column name="description" value="Term to describe convenience sets"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2004-03-02"/>
            <column name="retired" valueBoolean="false"/>
            <column name="retired_by"/>
            <column name="date_retired"/>
            <column name="retire_reason"/>
        </insert>
        <insert tableName="concept_class">
            <column name="concept_class_id" valueNumeric="11"/>
            <column name="name" value="Misc"/>
            <column name="description" value="Terms which don't fit other categories"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2004-03-02"/>
            <column name="retired" valueBoolean="false"/>
            <column name="retired_by"/>
            <column name="date_retired"/>
            <column name="retire_reason"/>
        </insert>
        <insert tableName="concept_class">
            <column name="concept_class_id" valueNumeric="12"/>
            <column name="name" value="Symptom"/>
            <column name="description" value="Patient-reported observation"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2004-10-04"/>
            <column name="retired" valueBoolean="false"/>
            <column name="retired_by"/>
            <column name="date_retired"/>
            <column name="retire_reason"/>
        </insert>
        <insert tableName="concept_class">
            <column name="concept_class_id" valueNumeric="13"/>
            <column name="name" value="Symptom/Finding"/>
            <column name="description" value="Observation that can be reported from patient or found on exam"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2004-10-04"/>
            <column name="retired" valueBoolean="false"/>
            <column name="retired_by"/>
            <column name="date_retired"/>
            <column name="retire_reason"/>
        </insert>
        <insert tableName="concept_class">
            <column name="concept_class_id" valueNumeric="14"/>
            <column name="name" value="Specimen"/>
            <column name="description" value="Body or fluid specimen"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2004-12-02"/>
            <column name="retired" valueBoolean="false"/>
            <column name="retired_by"/>
            <column name="date_retired"/>
            <column name="retire_reason"/>
        </insert>
        <insert tableName="concept_class">
            <column name="concept_class_id" valueNumeric="15"/>
            <column name="name" value="Misc Order"/>
            <column name="description" value="Orderable items which aren't tests or drugs"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2005-02-17"/>
            <column name="retired" valueBoolean="false"/>
            <column name="retired_by"/>
            <column name="date_retired"/>
            <column name="retire_reason"/>
        </insert>
    </changeSet>
    <changeSet author="ben (generated)" id="1226348923233-16">
        <insert tableName="users">
            <column name="system_id" value="admin"/>
            <column name="username" value=""/>
            <column name="password" value="4a1750c8607dfa237de36c6305715c223415189"/>
            <column name="salt" value="c788c6ad82a157b712392ca695dfcf2eed193d7f"/>
            <column name="secret_question"/>
            <column name="secret_answer"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2005-01-01"/>
            <column name="changed_by"/>
            <column name="date_changed"/>
            <column name="voided" valueBoolean="false"/>
            <column name="voided_by"/>
            <column name="date_voided"/>
            <column name="void_reason"/>
        </insert>
    </changeSet>
    <changeSet author="ben (generated)" id="1226348923233-17">
        <insert tableName="patient_identifier_type">
            <column name="patient_identifier_type_id" valueNumeric="1"/>
            <column name="name" value="OpenMRS Identification Number"/>
            <column name="description" value="Unique number used in OpenMRS"/>
            <column name="format" value=""/>
            <column name="check_digit" valueBoolean="true"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2005-09-22"/>
            <column name="required" valueBoolean="false"/>
            <column name="format_description"/>
            <column name="validator" value="org.openmrs.patient.impl.LuhnIdentifierValidator"/>
            <column name="retired" valueBoolean="false"/>
            <column name="retired_by"/>
            <column name="date_retired"/>
            <column name="retire_reason"/>
        </insert>
        <insert tableName="patient_identifier_type">
            <column name="patient_identifier_type_id" valueNumeric="2"/>
            <column name="name" value="Old Identification Number"/>
            <column name="description" value="Number given out prior to the OpenMRS system (No check digit)"/>
            <column name="format" value=""/>
            <column name="check_digit" valueBoolean="false"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2005-09-22"/>
            <column name="required" valueBoolean="false"/>
            <column name="format_description"/>
            <column name="validator"/>
            <column name="retired" valueBoolean="false"/>
            <column name="retired_by"/>
            <column name="date_retired"/>
            <column name="retire_reason"/>
        </insert>
    </changeSet>
    <changeSet author="ben (generated)" id="1226348923233-18">
        <insert tableName="user_role">
            <column name="user_id" valueNumeric="1"/>
            <column name="role" value="System Developer"/>
        </insert>
        <insert tableName="user_role">
            <column name="user_id" valueNumeric="1"/>
            <column name="role" value="Provider"/>
        </insert>
    </changeSet>
    <changeSet author="ben (generated)" id="1226348923233-20">
        <insert tableName="person_name">
            <column name="person_name_id" valueNumeric="1"/>
            <column name="preferred" valueBoolean="true"/>
            <column name="person_id" valueNumeric="1"/>
            <column name="prefix"/>
            <column name="given_name" value="Super"/>
            <column name="middle_name" value=""/>
            <column name="family_name_prefix"/>
            <column name="family_name" value="User"/>
            <column name="family_name2"/>
            <column name="family_name_suffix"/>
            <column name="degree"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2005-01-01"/>
            <column name="voided" valueBoolean="false"/>
            <column name="voided_by"/>
            <column name="date_voided"/>
            <column name="void_reason"/>
            <column name="changed_by"/>
            <column name="date_changed"/>
        </insert>
    </changeSet>
    <changeSet author="ben (generated)" id="1226348923233-21">
        <insert tableName="location">
            <column name="location_id" valueNumeric="1"/>
            <column name="name" value="Unknown Location"/>
            <column name="description"/>
            <column name="address1" value=""/>
            <column name="address2" value=""/>
            <column name="city_village" value=""/>
            <column name="state_province" value=""/>
            <column name="postal_code" value=""/>
            <column name="country" value=""/>
            <column name="latitude"/>
            <column name="longitude"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2005-09-22"/>
            <column name="county_district"/>
            <column name="neighborhood_cell"/>
            <column name="region"/>
            <column name="subregion"/>
            <column name="township_division"/>
            <column name="retired" valueBoolean="false"/>
            <column name="retired_by"/>
            <column name="date_retired"/>
            <column name="retire_reason"/>
        </insert>
    </changeSet>
    <changeSet author="ben (generated)" id="1226348923233-22">
        <insert tableName="person">
            <column name="person_id" valueNumeric="1"/>
            <column name="gender" value=""/>
            <column name="birthdate"/>
            <column name="birthdate_estimated" valueBoolean="false"/>
            <column name="dead" valueBoolean="false"/>
            <column name="death_date"/>
            <column name="cause_of_death"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2005-01-01"/>
            <column name="changed_by"/>
            <column name="date_changed"/>
            <column name="voided" valueBoolean="false"/>
            <column name="voided_by"/>
            <column name="date_voided"/>
            <column name="void_reason"/>
        </insert>
    </changeSet>
    <changeSet author="ben (generated)" id="1226348923233-23">
        <insert tableName="hl7_source">
            <column name="hl7_source_id" valueNumeric="1"/>
            <column name="name" value="LOCAL"/>
            <column name="description" value=""/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2006-09-01"/>
        </insert>
    </changeSet>
    <changeSet author="ben (generated)" id="1226412230538-9a">
        <insert tableName="concept_name_tag">
            <column name="concept_name_tag_id" valueNumeric="1"/>
            <column name="tag" value="default"/>
            <column name="description" value="name to use when nothing else is available"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2007-05-01"/>
            <column name="voided" valueBoolean="false"/>
            <column name="voided_by"/>
            <column name="date_voided"/>
            <column name="void_reason"/>
        </insert>
        <insert tableName="concept_name_tag">
            <column name="concept_name_tag_id" valueNumeric="2"/>
            <column name="tag" value="short"/>
            <column name="description" value="preferred short name for a concept"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2007-05-01"/>
            <column name="voided" valueBoolean="false"/>
            <column name="voided_by"/>
            <column name="date_voided"/>
            <column name="void_reason"/>
        </insert>
        <insert tableName="concept_name_tag">
            <column name="concept_name_tag_id" valueNumeric="3"/>
            <column name="tag" value="synonym"/>
            <column name="description" value="a different word with similar meaning"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2007-05-01"/>
            <column name="voided" valueBoolean="false"/>
            <column name="voided_by"/>
            <column name="date_voided"/>
            <column name="void_reason"/>
        </insert>
        <insert tableName="concept_name_tag">
            <column name="concept_name_tag_id" valueNumeric="4"/>
            <column name="tag" value="preferred"/>
            <column name="description" value="preferred name in English"/>
            <column name="creator" valueNumeric="1"/>
            <column name="date_created" valueDate="2007-05-01"/>
            <column name="voided" valueBoolean="false"/>
            <column name="voided_by"/>
            <column name="date_voided"/>
            <column name="void_reason"/>
        </insert>
   </changeSet>
   <changeSet author="sunbiz" id="20110914-0228">
        <comment>Switched the default xslt to use PV1-19 instead of PV1-1</comment>
        <!-- using the <sql> tag instead of the <update> tag here so that xml syntax highlighting doesn't bog down editors -->
        <sql splitStatements="false">
            <![CDATA[
                UPDATE form
                    SET xslt = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n\r\n<!--\r\nOpenMRS FormEntry Form HL7 Translation\r\n\r\nThis XSLT is used to translate OpenMRS forms from XML into HL7 2.5 format\r\n\r\n@author Burke Mamlin, MD\r\n@author Ben Wolfe\r\n@version 1.9.7\r\n\r\n1.9.7 - moved encounter/encounter.encounter_id to use PV1-19 instead\r\n1.9.6 - added encounter/encounter.encounter_id to PV1-1\r\n1.9.5 - allow for organizing sections under \"obs\" section\r\n1.9.4 - add support for message uid (as HL7 control id) and transform of patient.health_center to Discharge to Location (PV1-37)\r\n1.9.3 - fixed rounding error on timestamp (tenths of seconds getting rounded up, causing \"60\" seconds in some cases) \r\n1.9.2 - first generally useful version\r\n-->\r\n\r\n<xsl:stylesheet version=\"2.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:fn=\"http://www.w3.org/2005/xpath-functions\" xmlns:xdt=\"http://www.w3.org/2005/xpath-datatypes\">\r\n	<xsl:output method=\"text\" version=\"1.0\" encoding=\"UTF-8\" indent=\"no\"/>\r\n\r\n<xsl:variable name=\"SENDING-APPLICATION\">FORMENTRY</xsl:variable>\r\n<xsl:variable name=\"SENDING-FACILITY\">AMRS.ELD</xsl:variable>\r\n<xsl:variable name=\"RECEIVING-APPLICATION\">HL7LISTENER</xsl:variable>\r\n<xsl:variable name=\"RECEIVING-FACILITY\">AMRS.ELD</xsl:variable>\r\n<xsl:variable name=\"PATIENT-AUTHORITY\"></xsl:variable> <!-- leave blank for internal id, max 20 characters -->\r\n                                                       <!-- for now, must match patient_identifier_type.name -->\r\n<xsl:variable name=\"FORM-AUTHORITY\">AMRS.ELD.FORMID</xsl:variable> <!-- max 20 characters -->\r\n\r\n<xsl:template match=\"/\">\r\n	<xsl:apply-templates />\r\n</xsl:template>\r\n\r\n<!-- Form template -->\r\n<xsl:template match=\"form\">\r\n	<!-- MSH Header -->\r\n	<xsl:text>MSH|^~\\&amp;</xsl:text>   <!-- Message header, field separator, and encoding characters -->\r\n	<xsl:text>|</xsl:text>              <!-- MSH-3 Sending application -->\r\n	<xsl:value-of select=\"$SENDING-APPLICATION\" />\r\n	<xsl:text>|</xsl:text>              <!-- MSH-4 Sending facility -->\r\n	<xsl:value-of select=\"$SENDING-FACILITY\" />\r\n	<xsl:text>|</xsl:text>              <!-- MSH-5 Receiving application -->\r\n	<xsl:value-of select=\"$RECEIVING-APPLICATION\" />\r\n	<xsl:text>|</xsl:text>              <!-- MSH-6 Receiving facility -->\r\n	<xsl:value-of select=\"$RECEIVING-FACILITY\" />\r\n	<xsl:text>|</xsl:text>              <!-- MSH-7 Date/time message sent -->\r\n	<xsl:call-template name=\"hl7Timestamp\">\r\n		<xsl:with-param name=\"date\" select=\"current-dateTime()\" />\r\n	</xsl:call-template>\r\n	<xsl:text>|</xsl:text>              <!-- MSH-8 Security -->\r\n	<xsl:text>|ORU^R01</xsl:text>       <!-- MSH-9 Message type ^ Event type (observation report unsolicited) -->\r\n	<xsl:text>|</xsl:text>              <!-- MSH-10 Message control ID -->\r\n	<xsl:choose>\r\n		<xsl:when test=\"header/uid\">\r\n			<xsl:value-of select=\"header/uid\" />\r\n		</xsl:when>\r\n		<xsl:otherwise>\r\n			<xsl:value-of select=\"patient/patient.patient_id\" />\r\n			<xsl:call-template name=\"hl7Timestamp\">\r\n				<xsl:with-param name=\"date\" select=\"current-dateTime()\" />\r\n			</xsl:call-template>\r\n		</xsl:otherwise>\r\n	</xsl:choose>\r\n	<xsl:text>|P</xsl:text>             <!-- MSH-11 Processing ID -->\r\n	<xsl:text>|2.5</xsl:text>           <!-- MSH-12 HL7 version -->\r\n	<xsl:text>|1</xsl:text>             <!-- MSH-13 Message sequence number -->\r\n	<xsl:text>|</xsl:text>              <!-- MSH-14 Continuation Pointer -->\r\n	<xsl:text>|</xsl:text>              <!-- MSH-15 Accept Acknowledgement Type -->\r\n	<xsl:text>|</xsl:text>              <!-- MSH-16 Application Acknowledgement Type -->\r\n	<xsl:text>|</xsl:text>              <!-- MSH-17 Country Code -->\r\n	<xsl:text>|</xsl:text>              <!-- MSH-18 Character Set -->\r\n	<xsl:text>|</xsl:text>              <!-- MSH-19 Principal Language of Message -->\r\n	<xsl:text>|</xsl:text>              <!-- MSH-20 Alternate Character Set Handling Scheme -->\r\n	<xsl:text>|</xsl:text>              <!-- MSH-21 Message Profile Identifier -->\r\n	<xsl:value-of select=\"@id\" />\r\n	<xsl:text>^</xsl:text>\r\n	<xsl:value-of select=\"$FORM-AUTHORITY\" />\r\n	<xsl:text>&#x000d;</xsl:text>\r\n\r\n	<!-- PID header -->\r\n	<xsl:text>PID</xsl:text>            <!-- Message type -->\r\n	<xsl:text>|</xsl:text>              <!-- PID-1 Set ID -->\r\n	<xsl:text>|</xsl:text>              <!-- PID-2 (deprecated) Patient ID -->\r\n	<xsl:text>|</xsl:text>              <!-- PID-3 Patient Identifier List -->\r\n	<xsl:call-template name=\"patient_id\">\r\n		<xsl:with-param name=\"pid\" select=\"patient/patient.patient_id\" />\r\n		<xsl:with-param name=\"auth\" select=\"$PATIENT-AUTHORITY\" />\r\n		<xsl:with-param name=\"type\" select=\"L\" />\r\n	</xsl:call-template>\r\n	<xsl:if test=\"patient/patient.previous_mrn and string-length(patient/patient.previous_mrn) > 0\">\r\n		<xsl:text>~</xsl:text>\r\n		<xsl:call-template name=\"patient_id\">\r\n			<xsl:with-param name=\"pid\" select=\"patient/patient.previous_mrn\" />\r\n			<xsl:with-param name=\"auth\" select=\"$PATIENT-AUTHORITY\" />\r\n			<xsl:with-param name=\"type\" select=\"PRIOR\" />\r\n		</xsl:call-template>\r\n	</xsl:if>\r\n	<!-- Additional patient identifiers -->\r\n	<!-- This example is for an MTCT-PLUS identifier used in the AMPATH project in Kenya (skipped if not present) -->\r\n	<xsl:if test=\"patient/patient.mtctplus_id and string-length(patient/patient.mtctplus_id) > 0\">\r\n		<xsl:text>~</xsl:text>\r\n		<xsl:call-template name=\"patient_id\">\r\n			<xsl:with-param name=\"pid\" select=\"patient/patient.mtctplus_id\" />\r\n			<xsl:with-param name=\"auth\" select=\"$PATIENT-AUTHORITY\" />\r\n			<xsl:with-param name=\"type\" select=\"MTCTPLUS\" />\r\n		</xsl:call-template>\r\n	</xsl:if>\r\n	<xsl:text>|</xsl:text>              <!-- PID-4 (deprecated) Alternate patient ID -->\r\n	<!-- PID-5 Patient name -->\r\n	<xsl:text>|</xsl:text>              <!-- Family name -->\r\n	<xsl:value-of select=\"patient/patient.family_name\" />\r\n	<xsl:text>^</xsl:text>              <!-- Given name -->\r\n	<xsl:value-of select=\"patient/patient.given_name\" />\r\n	<xsl:text>^</xsl:text>              <!-- Middle name -->\r\n	<xsl:value-of select=\"patient/patient.middle_name\" />\r\n	<xsl:text>|</xsl:text>              <!-- PID-6 Mother\'s maiden name -->\r\n	<xsl:text>|</xsl:text>              <!-- PID-7 Date/Time of Birth -->\r\n	<xsl:value-of select=\"patient/patient.date_of_birth\" />\r\n	<xsl:text>&#x000d;</xsl:text>       <!-- new line -->\r\n	\r\n	<!-- PV1 header -->\r\n	<xsl:text>PV1</xsl:text>            <!-- Message type -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-1 Sub ID -->\r\n	<xsl:text>|O</xsl:text>             <!-- PV1-2 Patient class (O = outpatient) -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-3 Patient location -->\r\n	<xsl:value-of select=\"encounter/encounter.location_id\" />\r\n	<xsl:text>|</xsl:text>              <!-- PV1-4 Admission type (2 = return) -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-5 Pre-Admin Number -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-6 Prior Patient Location -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-7 Attending Doctor -->\r\n	<xsl:value-of select=\"encounter/encounter.provider_id\" />\r\n	<xsl:text>|</xsl:text>              <!-- PV1-8 Referring Doctor -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-9 Consulting Doctor -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-10 Hospital Service -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-11 Temporary Location -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-12 Preadmin Test Indicator -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-13 Re-adminssion Indicator -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-14 Admit Source -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-15 Ambulatory Status -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-16 VIP Indicator -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-17 Admitting Doctor -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-18 Patient Type -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-19 Visit Number -->\r\n	<xsl:value-of select=\"encounter/encounter.encounter_id\" />\r\n	<xsl:text>|</xsl:text>              <!-- PV1-20 Financial Class -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-21 Charge Price Indicator -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-22 Courtesy Code -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-23 Credit Rating -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-24 Contract Code -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-25 Contract Effective Date -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-26 Contract Amount -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-27 Contract Period -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-28 Interest Code -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-29 Transfer to Bad Debt Code -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-30 Transfer to Bad Debt Date -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-31 Bad Debt Agency Code -->\r\n  <xsl:text>|</xsl:text>              <!-- PV1-31 Bad Debt Transfer Amount -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-33 Bad Debt Recovery Amount -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-34 Delete Account Indicator -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-35 Delete Account Date -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-36 Discharge Disposition -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-37 Discharge To Location -->\r\n	<xsl:if test=\"patient/patient.health_center\">\r\n		<xsl:value-of select=\"replace(patient/patient.health_center,\'\\^\',\'&amp;\')\" />\r\n	</xsl:if>\r\n	<xsl:text>|</xsl:text>              <!-- PV1-38 Diet Type -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-39 Servicing Facility -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-40 Bed Status -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-41 Account Status -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-42 Pending Location -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-43 Prior Temporary Location -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-44 Admit Date/Time -->\r\n	<xsl:call-template name=\"hl7Date\">\r\n		<xsl:with-param name=\"date\" select=\"encounter/encounter.encounter_datetime\" />\r\n	</xsl:call-template>\r\n	<xsl:text>|</xsl:text>              <!-- PV1-45 Discharge Date/Time -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-46 Current Patient Balance -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-47 Total Charges -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-48 Total Adjustments -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-49 Total Payments -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-50 Alternate Visit ID -->\r\n	<xsl:text>|V</xsl:text>             <!-- PV1-51 Visit Indicator -->\r\n	<xsl:text>&#x000d;</xsl:text>       <!-- new line -->\r\n\r\n	<!-- We use encounter date as the timestamp for each observation -->\r\n	<xsl:variable name=\"encounterTimestamp\">\r\n		<xsl:call-template name=\"hl7Date\">\r\n			<xsl:with-param name=\"date\" select=\"encounter/encounter.encounter_datetime\" />\r\n		</xsl:call-template>\r\n	</xsl:variable>\r\n	\r\n	<!-- ORC Common Order Segment -->\r\n	<xsl:text>ORC</xsl:text>            <!-- Message type -->\r\n	<xsl:text>|RE</xsl:text>            <!-- ORC-1 Order Control (RE = obs to follow) -->\r\n	<xsl:text>|</xsl:text>              <!-- ORC-2 Placer Order Number -->\r\n	<xsl:text>|</xsl:text>              <!-- ORC-3 Filler Order Number -->\r\n	<xsl:text>|</xsl:text>              <!-- ORC-4 Placer Group Number -->\r\n	<xsl:text>|</xsl:text>              <!-- ORC-5 Order Status -->\r\n	<xsl:text>|</xsl:text>              <!-- ORC-6 Response Flag -->\r\n	<xsl:text>|</xsl:text>              <!-- ORC-7 Quantity/Timing -->\r\n	<xsl:text>|</xsl:text>              <!-- ORC-8 Parent -->\r\n	<xsl:text>|</xsl:text>              <!-- ORC-9 Date/Time of Transaction -->\r\n	<xsl:call-template name=\"hl7Timestamp\">\r\n		<xsl:with-param name=\"date\" select=\"xs:dateTime(header/date_entered)\" />\r\n	</xsl:call-template>\r\n	<xsl:text>|</xsl:text>              <!-- ORC-10 Entered By -->\r\n	<xsl:value-of select=\"header/enterer\" />\r\n	<xsl:text>&#x000d;</xsl:text>       <!-- new line -->\r\n\r\n	<!-- Observation(s) -->\r\n	<!-- <xsl:variable name=\"obsList\" select=\"obs/*[(@openmrs_concept and value and value/text() != \'\') or *[@openmrs_concept and text()=\'true\']]\" /> -->\r\n	<xsl:variable name=\"obsList\" select=\"obs/*[(@openmrs_concept and value and value/text() != \'\') or *[@openmrs_concept and text()=\'true\']]|obs/*[not(@openmrs_concept)]/*[(@openmrs_concept and value and value/text() != \'\') or *[@openmrs_concept and text()=\'true\']]\" />\r\n	<xsl:variable name=\"obsListCount\" select=\"count($obsList)\" as=\"xs:integer\" />\r\n	<!-- Observation OBR -->\r\n	<xsl:text>OBR</xsl:text>            <!-- Message type -->\r\n	<xsl:text>|</xsl:text>              <!-- OBR-1 Set ID -->\r\n	<xsl:text>1</xsl:text>\r\n	<xsl:text>|</xsl:text>              <!-- OBR-2 Placer order number -->\r\n	<xsl:text>|</xsl:text>              <!-- OBR-3 Filler order number -->\r\n	<xsl:text>|</xsl:text>              <!-- OBR-4 OBR concept -->\r\n	<xsl:value-of select=\"obs/@openmrs_concept\" />\r\n	<xsl:text>&#x000d;</xsl:text>       <!-- new line -->\r\n\r\n	<!-- observation OBXs -->\r\n	<xsl:for-each select=\"$obsList\">\r\n		<xsl:choose>\r\n			<xsl:when test=\"value\">\r\n				<xsl:call-template name=\"obsObx\">\r\n					<xsl:with-param name=\"setId\" select=\"position()\" />\r\n					<xsl:with-param name=\"datatype\" select=\"@openmrs_datatype\" />\r\n					<xsl:with-param name=\"units\" select=\"@openmrs_units\" />\r\n					<xsl:with-param name=\"concept\" select=\"@openmrs_concept\" />\r\n					<xsl:with-param name=\"date\" select=\"date/text()\" />\r\n					<xsl:with-param name=\"time\" select=\"time/text()\" />\r\n					<xsl:with-param name=\"value\" select=\"value\" />\r\n					<xsl:with-param name=\"encounterTimestamp\" select=\"$encounterTimestamp\" />\r\n				</xsl:call-template>\r\n			</xsl:when>\r\n			<xsl:otherwise>\r\n				<xsl:variable name=\"setId\" select=\"position()\" />\r\n				<xsl:for-each select=\"*[@openmrs_concept and text() = \'true\']\">\r\n					<xsl:call-template name=\"obsObx\">\r\n						<xsl:with-param name=\"setId\" select=\"$setId\" />\r\n						<xsl:with-param name=\"subId\" select=\"concat($setId,position())\" />\r\n						<xsl:with-param name=\"datatype\" select=\"../@openmrs_datatype\" />\r\n						<xsl:with-param name=\"units\" select=\"../@openmrs_units\" />\r\n						<xsl:with-param name=\"concept\" select=\"../@openmrs_concept\" />\r\n						<xsl:with-param name=\"date\" select=\"../date/text()\" />\r\n						<xsl:with-param name=\"time\" select=\"../time/text()\" />\r\n						<xsl:with-param name=\"value\" select=\"@openmrs_concept\" />\r\n						<xsl:with-param name=\"encounterTimestamp\" select=\"$encounterTimestamp\" />\r\n					</xsl:call-template>\r\n				</xsl:for-each>\r\n			</xsl:otherwise>\r\n		</xsl:choose>\r\n	</xsl:for-each>\r\n	\r\n	<!-- Grouped observation(s) -->\r\n	<!-- <xsl:variable name=\"obsGroupList\" select=\"obs/*[@openmrs_concept and not(date) and *[(@openmrs_concept and value and value/text() != \'\') or *[@openmrs_concept and text()=\'true\']]]\" /> -->\r\n	<xsl:variable name=\"obsGroupList\" select=\"obs/*[@openmrs_concept and not(date) and *[(@openmrs_concept and value and value/text() != \'\') or *[@openmrs_concept and text()=\'true\']]]|obs/*[not(@openmrs_concept)]/*[@openmrs_concept and not(date) and *[(@openmrs_concept and value and value/text() != \'\') or *[@openmrs_concept and text()=\'true\']]]\" />\r\n	<xsl:variable name=\"obsGroupListCount\" select=\"count($obsGroupList)\" as=\"xs:integer\" />\r\n	<xsl:for-each select=\"$obsGroupList\">\r\n		<!-- Observation OBR -->\r\n		<xsl:text>OBR</xsl:text>            <!-- Message type -->\r\n		<xsl:text>|</xsl:text>              <!-- OBR-1 Set ID -->\r\n		<xsl:value-of select=\"$obsListCount + position()\" />\r\n		<xsl:text>|</xsl:text>              <!-- OBR-2 Placer order number -->\r\n		<xsl:text>|</xsl:text>              <!-- OBR-3 Filler order number -->\r\n		<xsl:text>|</xsl:text>              <!-- OBR-4 OBR concept -->\r\n		<xsl:value-of select=\"@openmrs_concept\" />\r\n		<xsl:text>&#x000d;</xsl:text>       <!-- new line -->\r\n		\r\n		<!-- Generate OBXs -->\r\n		<xsl:for-each select=\"*[(@openmrs_concept and value and value/text() != \'\') or *[@openmrs_concept and text()=\'true\']]\">\r\n			<xsl:choose>\r\n				<xsl:when test=\"value\">\r\n					<xsl:call-template name=\"obsObx\">\r\n						<xsl:with-param name=\"setId\" select=\"position()\" />\r\n						<xsl:with-param name=\"subId\" select=\"1\" />\r\n						<xsl:with-param name=\"datatype\" select=\"@openmrs_datatype\" />\r\n						<xsl:with-param name=\"units\" select=\"@openmrs_units\" />\r\n						<xsl:with-param name=\"concept\" select=\"@openmrs_concept\" />\r\n						<xsl:with-param name=\"date\" select=\"date/text()\" />\r\n						<xsl:with-param name=\"time\" select=\"time/text()\" />\r\n						<xsl:with-param name=\"value\" select=\"value\" />\r\n						<xsl:with-param name=\"encounterTimestamp\" select=\"$encounterTimestamp\" />\r\n					</xsl:call-template>\r\n				</xsl:when>\r\n				<xsl:otherwise>\r\n					<xsl:variable name=\"setId\" select=\"position()\" />\r\n					<xsl:for-each select=\"*[@openmrs_concept and text() = \'true\']\">\r\n						<xsl:call-template name=\"obsObx\">\r\n							<xsl:with-param name=\"setId\" select=\"$setId\" />\r\n							<xsl:with-param name=\"subId\" select=\"concat(\'1.\',position())\" />\r\n							<xsl:with-param name=\"datatype\" select=\"../@openmrs_datatype\" />\r\n							<xsl:with-param name=\"units\" select=\"../@openmrs_units\" />\r\n							<xsl:with-param name=\"concept\" select=\"../@openmrs_concept\" />\r\n							<xsl:with-param name=\"date\" select=\"../date/text()\" />\r\n							<xsl:with-param name=\"time\" select=\"../time/text()\" />\r\n							<xsl:with-param name=\"value\" select=\"@openmrs_concept\" />\r\n							<xsl:with-param name=\"encounterTimestamp\" select=\"$encounterTimestamp\" />\r\n						</xsl:call-template>\r\n					</xsl:for-each>\r\n				</xsl:otherwise>\r\n			</xsl:choose>\r\n		</xsl:for-each>\r\n	</xsl:for-each>\r\n\r\n	<!-- Problem list(s) -->\r\n	<xsl:variable name=\"problemList\" select=\"problem_list/*[value[text() != \'\']]\" />\r\n	<xsl:variable name=\"problemListCount\" select=\"count($problemList)\" as=\"xs:integer\" />\r\n	<xsl:if test=\"$problemList\">\r\n		<!-- Problem list OBR -->\r\n		<xsl:text>OBR</xsl:text>            <!-- Message type -->\r\n		<xsl:text>|</xsl:text>              <!-- OBR-1 Set ID -->\r\n		<xsl:value-of select=\"$obsListCount + $obsGroupListCount + 1\" />\r\n		<xsl:text>|</xsl:text>              <!-- OBR-2 Placer order number -->\r\n		<xsl:text>|</xsl:text>              <!-- OBR-3 Filler order number -->\r\n		<xsl:text>|</xsl:text>              <!-- OBR-4 OBR concept -->\r\n		<xsl:value-of select=\"problem_list/@openmrs_concept\" />\r\n		<xsl:text>&#x000d;</xsl:text>       <!-- new line -->\r\n\r\n		<!-- Problem list OBXs -->\r\n		<xsl:for-each select=\"$problemList\">\r\n			<xsl:call-template name=\"obsObx\">\r\n				<xsl:with-param name=\"setId\" select=\"position()\" />\r\n				<xsl:with-param name=\"datatype\" select=\"\'CWE\'\" />\r\n				<xsl:with-param name=\"concept\" select=\"@openmrs_concept\" />\r\n				<xsl:with-param name=\"date\" select=\"date/text()\" />\r\n				<xsl:with-param name=\"time\" select=\"time/text()\" />\r\n				<xsl:with-param name=\"value\" select=\"value\" />\r\n				<xsl:with-param name=\"encounterTimestamp\" select=\"$encounterTimestamp\" />\r\n			</xsl:call-template>		\r\n		</xsl:for-each>\r\n	</xsl:if>\r\n	\r\n	<!-- Orders -->\r\n	<xsl:variable name=\"orderList\" select=\"orders/*[*[@openmrs_concept and ((value and value/text() != \'\') or *[@openmrs_concept and text() = \'true\'])]]\" />\r\n	<xsl:variable name=\"orderListCount\" select=\"count($orderList)\" as=\"xs:integer\" />\r\n	<xsl:for-each select=\"$orderList\">\r\n		<!-- Order section OBR -->\r\n		<xsl:text>OBR</xsl:text>            <!-- Message type -->\r\n		<xsl:text>|</xsl:text>              <!-- OBR-1 Set ID -->\r\n		<xsl:value-of select=\"$obsListCount + $obsGroupListCount + $problemListCount + 1\" />\r\n		<xsl:text>|</xsl:text>              <!-- OBR-2 Placer order number -->\r\n		<xsl:text>|</xsl:text>              <!-- OBR-3 Filler order number -->\r\n		<xsl:text>|</xsl:text>              <!-- OBR-4 OBR concept -->\r\n		<xsl:value-of select=\"@openmrs_concept\" />\r\n		<xsl:text>&#x000d;</xsl:text>       <!-- new line -->\r\n	\r\n		<!-- Order OBXs -->\r\n		<xsl:for-each select=\"*[@openmrs_concept and ((value and value/text() != \'\') or *[@openmrs_concept and text() = \'true\'])]\">\r\n			<xsl:choose>\r\n				<xsl:when test=\"value\">\r\n					<xsl:call-template name=\"obsObx\">\r\n						<xsl:with-param name=\"setId\" select=\"position()\" />\r\n						<xsl:with-param name=\"datatype\" select=\"@openmrs_datatype\" />\r\n						<xsl:with-param name=\"units\" select=\"@openmrs_units\" />\r\n						<xsl:with-param name=\"concept\" select=\"@openmrs_concept\" />\r\n						<xsl:with-param name=\"date\" select=\"date/text()\" />\r\n						<xsl:with-param name=\"time\" select=\"time/text()\" />\r\n						<xsl:with-param name=\"value\" select=\"value\" />\r\n						<xsl:with-param name=\"encounterTimestamp\" select=\"$encounterTimestamp\" />\r\n					</xsl:call-template>\r\n				</xsl:when>\r\n				<xsl:otherwise>\r\n					<xsl:variable name=\"setId\" select=\"position()\" />\r\n					<xsl:for-each select=\"*[@openmrs_concept and text() = \'true\']\">\r\n						<xsl:call-template name=\"obsObx\">\r\n							<xsl:with-param name=\"setId\" select=\"$setId\" />\r\n							<xsl:with-param name=\"subId\" select=\"position()\" />\r\n							<xsl:with-param name=\"datatype\" select=\"../@openmrs_datatype\" />\r\n							<xsl:with-param name=\"units\" select=\"../@openmrs_units\" />\r\n							<xsl:with-param name=\"concept\" select=\"../@openmrs_concept\" />\r\n							<xsl:with-param name=\"date\" select=\"../date/text()\" />\r\n							<xsl:with-param name=\"time\" select=\"../time/text()\" />\r\n							<xsl:with-param name=\"value\" select=\"@openmrs_concept\" />\r\n							<xsl:with-param name=\"encounterTimestamp\" select=\"$encounterTimestamp\" />\r\n						</xsl:call-template>\r\n					</xsl:for-each>\r\n				</xsl:otherwise>\r\n			</xsl:choose>\r\n		</xsl:for-each>	\r\n	</xsl:for-each>\r\n	\r\n</xsl:template>\r\n\r\n<!-- Patient Identifier (CX) generator -->\r\n<xsl:template name=\"patient_id\">\r\n	<xsl:param name=\"pid\" />\r\n	<xsl:param name=\"auth\" />\r\n	<xsl:param name=\"type\" />\r\n	<xsl:value-of select=\"$pid\" />\r\n	<xsl:text>^</xsl:text>              <!-- Check digit -->\r\n	<xsl:text>^</xsl:text>              <!-- Check Digit Scheme -->\r\n	<xsl:text>^</xsl:text>              <!-- Assigning Authority -->\r\n	<xsl:value-of select=\"$auth\" />\r\n	<xsl:text>^</xsl:text>              <!-- Identifier Type -->\r\n	<xsl:value-of select=\"$type\" />\r\n</xsl:template>\r\n\r\n<!-- OBX Generator -->\r\n<xsl:template name=\"obsObx\">\r\n	<xsl:param name=\"setId\" required=\"no\"></xsl:param>\r\n	<xsl:param name=\"subId\" required=\"no\"></xsl:param>\r\n	<xsl:param name=\"datatype\" required=\"yes\" />\r\n	<xsl:param name=\"concept\" required=\"yes\" />\r\n	<xsl:param name=\"date\" required=\"no\"></xsl:param>\r\n	<xsl:param name=\"time\" required=\"no\"></xsl:param>\r\n	<xsl:param name=\"value\" required=\"no\"></xsl:param>\r\n	<xsl:param name=\"units\" required=\"no\"></xsl:param>\r\n	<xsl:param name=\"encounterTimestamp\" required=\"yes\" />\r\n	<xsl:text>OBX</xsl:text>                     <!-- Message type -->\r\n	<xsl:text>|</xsl:text>                       <!-- Set ID -->\r\n	<xsl:value-of select=\"$setId\" />\r\n	<xsl:text>|</xsl:text>                       <!-- Observation datatype -->\r\n	<xsl:choose>\r\n		<xsl:when test=\"$datatype = \'BIT\'\">\r\n			<xsl:text>NM</xsl:text>\r\n		</xsl:when>\r\n		<xsl:otherwise>\r\n			<xsl:value-of select=\"$datatype\" />\r\n		</xsl:otherwise>\r\n	</xsl:choose>\r\n	<xsl:text>|</xsl:text>                       <!-- Concept (what was observed -->\r\n	<xsl:value-of select=\"$concept\" />\r\n	<xsl:text>|</xsl:text>                       <!-- Sub-ID -->\r\n	<xsl:value-of select=\"$subId\" />\r\n	<xsl:text>|</xsl:text>                       <!-- Value -->\r\n	<xsl:choose>\r\n		<xsl:when test=\"$datatype = \'TS\'\">\r\n			<xsl:call-template name=\"hl7Timestamp\">\r\n				<xsl:with-param name=\"date\" select=\"$value\" />\r\n			</xsl:call-template>\r\n		</xsl:when>\r\n		<xsl:when test=\"$datatype = \'DT\'\">\r\n			<xsl:call-template name=\"hl7Date\">\r\n				<xsl:with-param name=\"date\" select=\"$value\" />\r\n			</xsl:call-template>\r\n		</xsl:when>\r\n		<xsl:when test=\"$datatype = \'TM\'\">\r\n			<xsl:call-template name=\"hl7Time\">\r\n				<xsl:with-param name=\"time\" select=\"$value\" />\r\n			</xsl:call-template>\r\n		</xsl:when>\r\n		<xsl:when test=\"$datatype = \'BIT\'\">\r\n			<xsl:choose>\r\n				<xsl:when test=\"$value = \'0\' or upper-case($value) = \'FALSE\'\">0</xsl:when>\r\n				<xsl:otherwise>1</xsl:otherwise>\r\n			</xsl:choose>\r\n		</xsl:when>\r\n		<xsl:otherwise>\r\n			<xsl:value-of select=\"$value\" />\r\n		</xsl:otherwise>\r\n	</xsl:choose>\r\n	<xsl:text>|</xsl:text>                       <!-- Units -->\r\n	<xsl:value-of select=\"$units\" />\r\n	<xsl:text>|</xsl:text>                       <!-- Reference range -->\r\n	<xsl:text>|</xsl:text>                       <!-- Abnormal flags -->\r\n	<xsl:text>|</xsl:text>                       <!-- Probability -->\r\n	<xsl:text>|</xsl:text>                       <!-- Nature of abnormal test -->\r\n	<xsl:text>|</xsl:text>                       <!-- Observation result status -->\r\n	<xsl:text>|</xsl:text>                       <!-- Effective date -->\r\n	<xsl:text>|</xsl:text>                       <!-- User defined access checks -->\r\n	<xsl:text>|</xsl:text>                       <!-- Date time of observation -->\r\n	<xsl:choose>\r\n		<xsl:when test=\"$date and $time\">\r\n			<xsl:call-template name=\"hl7Timestamp\">\r\n				<xsl:with-param name=\"date\" select=\"dateTime($date,$time)\" />\r\n			</xsl:call-template>\r\n		</xsl:when>\r\n		<xsl:when test=\"$date\">\r\n			<xsl:call-template name=\"hl7Date\">\r\n				<xsl:with-param name=\"date\" select=\"$date\" />\r\n			</xsl:call-template>\r\n		</xsl:when>\r\n		<xsl:otherwise>\r\n			<xsl:value-of select=\"$encounterTimestamp\" />\r\n		</xsl:otherwise>\r\n	</xsl:choose>\r\n	<xsl:text>&#x000d;</xsl:text>\r\n</xsl:template>\r\n\r\n<!-- Generate HL7-formatted timestamp -->\r\n<xsl:template name=\"hl7Timestamp\">\r\n	<xsl:param name=\"date\" />\r\n	<xsl:if test=\"string($date) != \'\'\">\r\n		<xsl:value-of select=\"concat(year-from-dateTime($date),format-number(month-from-dateTime($date),\'00\'),format-number(day-from-dateTime($date),\'00\'),format-number(hours-from-dateTime($date),\'00\'),format-number(minutes-from-dateTime($date),\'00\'),format-number(floor(seconds-from-dateTime($date)),\'00\'))\" />\r\n	</xsl:if>\r\n</xsl:template>\r\n\r\n<!-- Generate HL7-formatted date -->\r\n<xsl:template name=\"hl7Date\">\r\n	<xsl:param name=\"date\" />\r\n	<xsl:if test=\"string($date) != \'\'\">\r\n		<xsl:choose>\r\n			<xsl:when test=\"contains(string($date),\'T\')\">\r\n				<xsl:call-template name=\"hl7Date\">\r\n					<xsl:with-param name=\"date\" select=\"xs:date(substring-before($date,\'T\'))\" />\r\n				</xsl:call-template>\r\n			</xsl:when>\r\n			<xsl:otherwise>\r\n					<xsl:value-of select=\"concat(year-from-date($date),format-number(month-from-date($date),\'00\'),format-number(day-from-date($date),\'00\'))\" />\r\n			</xsl:otherwise>\r\n		</xsl:choose>				\r\n	</xsl:if>\r\n</xsl:template>\r\n\r\n<!-- Generate HL7-formatted time -->\r\n<xsl:template name=\"hl7Time\">\r\n	<xsl:param name=\"time\" />\r\n	<xsl:if test=\"$time != \'\'\">\r\n		<xsl:value-of select=\"concat(format-number(hours-from-time($time),\'00\'),format-number(minutes-from-time($time),\'00\'),format-number(floor(seconds-from-time($time)),\'00\'))\" />\r\n	</xsl:if>\r\n</xsl:template>\r\n\r\n</xsl:stylesheet>'
                        WHERE xslt LIKE '%\r\n@version 1.9.6\r\n%';
            ]]>
        </sql>
        <modifySql dbms="mssql">
            <replace replace="\'" with="\''" />
        </modifySql>
   </changeSet>
   
   <changeSet author="sunbiz" id="function-enable-sqlserver" runAlways="true" dbms="mssql">
        <sql>
            EXEC sp_msforeachtable "ALTER TABLE ? WITH CHECK CHECK CONSTRAINT all";
        </sql>
    </changeSet>
   
    <changeSet author="sunbiz" id="function-enable-postgresql" runAlways="true" dbms="postgresql">
        <customChange class="org.openmrs.util.databasechange.EnableTriggersChangeSet">
        </customChange>
    </changeSet>
    
    <changeSet author="ben" id="enable-foreign-key-checks" runAlways="true" dbms="mysql">
	<sql>SET FOREIGN_KEY_CHECKS=1</sql>
    </changeSet>
    
</databaseChangeLog>
